package br.com.roberto2aj.features.java8;

import java.util.stream.IntStream;

/**
 * This class is used to show the IntStream Interface introduced in Java 8.
 * IntStream is a specific type of Stream.
 * @author roberto
 *
 */
public class IntStreams {

	public static void main(String[] args) {
		/* Int streams are a special type of Stream in java which 
		 * only apply to a collection of Integers.
		 * 
		 * A useful method is the method range, which let us do 
		 * all kind of fun things.
		 * 
		 * Let's say we want to print every number from 1 to 100.
		 */

		// Old way of doing this:
		for (int i = 1; i <=100; i++) {
			System.out.println(i);
		}

		// New way. Much better. :)
		IntStream.range(0, 101).forEach(System.out::println);

		// This one is also an option. :)
		IntStream.rangeClosed(0, 100).forEach(System.out::println);

		// You can also do all kinds of operations you can do in a Stream, 
		// like filtering.
		// Let's print every even number from 0 to 100.
		IntStream.rangeClosed(0, 100)
			.filter(n -> n%2==0)
			.forEach(System.out::println);

		// Or mapping
		// Let's print the triple of every number from 0 to 100.
		IntStream.rangeClosed(0, 100)
			.map(n -> n*3)
			.forEach(System.out::println);

		// We can also  it into a regular Stream
		// Let's print every number from 0 to 100 along with its triple.
		IntStream.rangeClosed(0, 100)
			.mapToObj(x -> x)
			.map(x -> "The triple of " + x + " is " + x*3)
			.forEach(System.out::println);

		// There's also some specific operations, like sum or average.
		System.out.println(IntStream.rangeClosed(0, 100).sum());
		System.out.println(IntStream.rangeClosed(0, 100).average().getAsDouble());
		System.out.println(IntStream.rangeClosed(0, 100).min().getAsInt());
		System.out.println(IntStream.rangeClosed(0, 100).max().getAsInt());
	}
}
